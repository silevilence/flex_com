# 📋 Changelog

FlexCom 的版本更新记录。

---

## [V1.2.0] - 2026-01-27

📊 **全新数据可视化与界面体验升级！**

### ✨ 新功能

#### 📈 实时示波器
- 🌊 **多通道波形绘制** — 从协议解析的数据中选取字段，实时绘制波形曲线
- ⏸️ **播放控制** — 支持暂停/继续数据流，方便观察历史数据
- 🔍 **缩放与测量** — 拖拽缩放 X/Y 轴，十字游标精准定位数据点
- 🎨 **通道管理** — 自由添加/删除通道，配置颜色，单独显示或隐藏
- 📤 **数据导出** — 一键导出 PNG 图片或 CSV 数据文件

#### 🎨 主题切换
- 🌞 **日间模式** — 明亮清爽的浅色界面
- 🌙 **夜间模式** — 护眼舒适的深色界面
- 🔄 **跟随系统** — 自动适配系统主题偏好

#### 📝 脚本编辑器升级
- 💡 **智能代码补全** — 输入时自动提示 FCom API 函数
- 🎯 **语法高亮增强** — Lua 关键字、字符串、注释清晰区分

### 💄 界面优化

- 🖥️ **全新视觉设计** — 整体界面风格更加现代简洁
- 📍 **状态栏改进** — 连接状态实时显示，一目了然
- 💾 **布局记忆** — 面板位置和大小自动保存，下次启动恢复原状

---

## [V1.1.0] - 2025-01-26

🚀 **重大更新：脚本自动化与协议解析！**

### ✨ 新功能

#### 🤖 Lua 脚本系统
- 📜 **脚本引擎** — 内置 Lua 脚本执行环境，支持编写自定义自动化逻辑
- 📝 **脚本管理器** — 侧边栏新增脚本管理面板，支持脚本的增删改查及语法高亮编辑
- 🔧 **丰富 API** — 提供 `FCom.send()`, `FCom.log()`, `FCom.delay()`, `FCom.crc16()` 等核心函数
- 🖥️ **调试控制台** — 独立的脚本日志窗口，实时查看脚本执行状态和输出
- 🔗 **数据流钩子** — 脚本可挂载为「接收预处理器」或「发送后处理器」，实现数据加解密、自动封包
- 🔁 **脚本自动回复** — 在自动回复系统中新增「脚本模式」，用 Lua 编写复杂条件判断逻辑
- ⚡ **自动化任务** — 手动触发脚本执行发包序列或压力测试

#### 📊 协议解析器
- 🛠️ **帧结构配置** — 图形化界面定义帧头、帧尾、校验位和数据字段
- 🔢 **多类型解析** — 支持提取整数、浮点数、字节数组、ASCII 文本等数据类型
- 📐 **位域提取** — 通过掩码和位偏移精确解析单个字节内的标志位
- 🔄 **字节序支持** — 灵活切换大端/小端模式，兼容各类设备协议
- ✅ **校验验证** — 自动计算并验证 Sum8/16、XOR、CRC8/16/32 等校验值
- 💾 **配置模板** — 预置 Modbus RTU 等常用协议，支持保存自定义配置
- 📈 **数值换算** — 配置比例因子和偏移量，原始值自动转换为带单位的物理量

---

## [V1.0.2] - 2025-12-19

### 🐛 Bug 修复

- 📡 修复串口打开后无法接收数据的问题 — 现已正确监听数据流，所有连接类型（串口/TCP/UDP）的收发功能均正常工作
- ⏱️ 修复自动回复延时设置不生效的问题 — 输入延时值后，回复将按设定时间延迟发送
- 🔄 修复切换自动回复开关时延时值被重置为 0 的问题 — 延时设置现在会正确保持

---

## [V1.0.1] - 2025-12-17

### 🐛 Bug 修复

- 🏷️ 修复左侧配置面板名称不准确的问题 — 现已改为「连接配置」，更准确地反映其支持多种连接方式
- 📡 修复 TCP/UDP 连接后发送区仍提示「请先打开串口」的问题 — 现已正确识别所有连接类型

---

## [V1.0.0] - 2025-12-17

🎉 **FlexCom 首个正式版本发布！**

### ✨ 新功能

- 🔌 **多种连接方式** — 除串口外，新增 TCP Client、TCP Server、UDP 连接支持，满足多样化调试场景
- 🤖 **智能自动回复** — 收到特定数据时自动发送预设响应，支持「匹配回复」和「顺序回复」两种模式
- 🧮 **校验计算器** — 内置 CRC8/16/32、Checksum、MD5、SHA 等常用校验算法，一键计算并追加到发送帧
- 📋 **指令列表** — 保存常用指令，支持拖拽排序、双击快速发送
- ⏱️ **定时发送** — 自定义间隔循环发送数据，轻松进行压力测试
- 📁 **数据导出** — 将接收到的数据保存为 .txt 或 .bin 文件
- 🖼️ **灵活布局** — 可调节的多区域面板，按需隐藏/展开，自由拖拽调整大小
- ⚙️ **配置记忆** — 自动保存串口参数和指令列表，下次启动无需重新配置

### 📡 串口功能

- 支持常用波特率（300 ~ 921600）及自定义波特率
- 数据位、停止位、校验位完整配置
- 流控支持：无流控、RTS/CTS 硬件流控、XON/XOFF 软件流控、DTR/DSR
- Hex / ASCII 双模式显示与发送
- 时间戳显示（精确到毫秒）
- 收发字节统计
